(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{275:function(e,i,t){t(10),t(78),t(54),t(79),t(24),e.exports=t(276)},276:function(e,i,t){"use strict";t.r(i),t.d(i,"default",(function(){return l}));var s=t(1),o=t.n(s),n=t(2),a=t.n(n),r=t(5),d=t(7);let h=1;class l{static get Defaults(){return{id:null,controls:!1,subtitles:!1}}constructor(e,i){this.options=o.a.extend(!0,{},this.constructor.Defaults,i),this.$container=e,this.uid="video"+h++,this.$play=e.find(".js-video-embed-play, .js-video-embed-button-"+this.options.id),this.$pause=e.find(".js-video-embed-pause"),this.$mute=e.find(".js-video-embed-mute"),this.$panel=e.find(".js-video-embed-panel"),this.$placeholder=e.find(".js-video-embed-placeholder"),this.fullscreen=e.hasClass("video-embed--fullscreen"),this.isHiddenPanel=!1,this.isMuted=!1,this.timerPanel=null,this.ns=Object(d.a)();const t=o()(".js-page-content");t.hasClass("page-content--video")||o()(window).on(`mousedown.${this.ns} touchstart.${this.ns} keydown.${this.ns}`,()=>{this.$container.append('<script src="https://player.vimeo.com/api/player.js" async defer><\/script>'),t.addClass("page-content--video"),o()(window).off(`mousedown.${this.ns} touchstart.${this.ns} keydown.${this.ns}`)}),this.apiReady(this.embed.bind(this)),this.$container.on("mousemove",this.showPanel.bind(this))}apiReady(e){const i=function(){window.Vimeo&&window.Vimeo.Player?e():setTimeout(i,60)};i()}embed(){const e=this.$container,i=e.find("iframe"),t=this.getVideoPosition(window.innerWidth,window.innerHeight);i.get(0)?this.$video=e.find(".video-embed__inner"):this.$video=o()(`<div class="video-embed__inner" id="${this.uid}"></div>`).appendTo(e),this.player=new Vimeo.Player(i.get(0)||this.uid,{id:this.options.id,width:t.width,height:"100%",byline:!1,portrait:!1,title:!1,loop:0,controls:0}),this.player.on("play",this.handlePlay.bind(this)),this.player.on("pause",this.handlePause.bind(this)),this.player.on("timeupdate",this.handleCurrentTimeChange.bind(this)),this.progressDragging=!1,o()(window).on("resize",this.handleResize.bind(this)),this.$mute.on("click",this.toggleMute.bind(this)),this.$play.on("click",this.toggleVideo.bind(this)),this.$pause.on("click",this.toggleVideo.bind(this)),this.options.controls&&this.createProgressBar(),this.handleResize()}toggleMute(){this.isMuted?(this.$container.removeClass("video-embed--muted"),this.player.setVolume(1),this.isMuted=!1):(this.$container.addClass("video-embed--muted"),this.player.setVolume(0),this.isMuted=!0)}handleMute(e){this.$container.toggleClass("video-embed--muted",0===e.volume)}toggleVideo(){this.player.getPaused().then(e=>{e?this.playVideo():this.pauseVideo()})}playVideo(){this.player&&(this.$placeholder.remove(),this.player.play(),this.timerPanel=setTimeout(this.hidePanel.bind(this),3e3))}pauseVideo(){this.player&&this.player.pause()}handleResize(){if(this.fullscreen)if(r.a.matches("md-up")){const e=this.getVideoPosition(window.innerWidth,window.innerHeight);this.$video.css({width:e.width+"px",height:"100%",left:~~e.x+"px",top:~~e.y+"px"})}else this.$video.css({width:"",height:"",left:"",top:""})}handlePlay(){this.$container.addClass("video-embed--playing"),o()("html").addClass("video-playing")}handlePause(){this.$container.removeClass("video-embed--playing"),o()("html").removeClass("video-playing")}getVideoPosition(e,i){let t=1280,s=800,o=t/s;return t=e,s=t/o,s<i&&(s=i,t=s*o),{height:s,width:t,x:(e-t)/2,y:(i-s)/2}}createProgressBar(){const e=o()('\n            <div class="video-embed__progress-bar">\n                <div class="video-embed__progress-bar__inner">\n                </div>\n                <div class="video-embed__progress-bar__hover">\n                </div>\n            </div>\n        '),i=o()('\n            <div class="video-embed__progress-bar__text">0:00</div>\n        ');this.$container.find(".js-video-embed-panel").append(e),this.$container.find(".video-embed__progress-bar__inner").append(i),this.$progress=e,this.$progressInner=e.find(".video-embed__progress-bar__inner"),this.$progressText=o()(".video-embed__progress-bar__text"),this.$progressHover=o()(".video-embed__progress-bar__hover"),this.updateProgressBar(),e.on("mousedown touchstart",this.handleProgressClickStart.bind(this)),e.on("mousemove",this.handleMouseOver.bind(this))}handleCurrentTimeChange(e){this.progressDragging||this.updateProgressBar(e.percent)}updateProgressBar(e){const i=this.$progressInner,t=this.$progressText;i&&i.length&&(i.css("width",100*e+"%"),this.player.getDuration().then(i=>{const s=i*e,o=~~(s/60),n=~~(s%60),a=~~(i/60),r=~~(i%60);t.text(`${o<10?"0":""}${o}:${n<10?"0":""}${n}`),o==a&&n==r&&(this.pauseVideo(),this.player.setCurrentTime(0))}))}handleProgressClickStart(e){const i="mousedown"===e.type?"mousemove":"touchmove",t="mousedown"===e.type?"mouseup":"touchend";e.preventDefault(),o()(document).on(`${i}.${this.uid}`,this.handleProgressClick.bind(this)),o()(document).on(`${t}.${this.uid}`,this.handleProgressClickStop.bind(this)),this.$progress.addClass("video-embed__progress-bar--disable-animation"),this.$container.addClass("video-embed--dragging"),this.progressDragging=!0,this.handleProgressClick(e)}handleProgressClickStop(){o()(document).off("."+this.uid),this.progressDragging=!1,this.$container.removeClass("video-embed--dragging"),setTimeout(()=>{this.$progress.removeClass("video-embed__progress-bar--disable-animation")},60)}handleProgressClick(e){const i=this.player,t="mousemove"===e.type||"mousedown"===e.type?e.clientX:e.originalEvent.touches[0].clientX,s=this.$progress.get(0).getBoundingClientRect(),o=Math.min(1,Math.max(0,(t-s.left)/s.width));this.updateProgressBar(o),i.getDuration().then(e=>{i.setCurrentTime(e*o)})}showPanel(){this.isHiddenPanel&&(this.$panel.removeClass("video-embed__pannel--hidden"),this.isHiddenPanel=!1,clearTimeout(this.timerPanel),this.timerPanel=setTimeout(this.hidePanel.bind(this),3e3))}hidePanel(){this.isHiddenPanel||(this.$panel.addClass("video-embed__pannel--hidden"),this.isHiddenPanel=!0)}handleMouseOver(e){this.$progressHover.css("--mouseX",e.offsetX+"px")}}o.a.fn.videoEmbed=a()(l,{api:["playVideo","pauseVideo"]})},78:function(e,i,t){"use strict";t.r(i),t.d(i,"default",(function(){return g}));var s=t(1),o=t.n(s),n=t(2),a=t.n(n),r=t(36),d=t.n(r),h=t(5),l=t(24),p=t(7);t(33),t(40);let c=null,m=null;class g extends l.default{static get Defaults(){return o.a.extend({},l.default.Defaults,{infowindowModalSelector:"#infowindow-modal"})}constructor(e,i){super(e,i),this.infoTemplate=d()(e.find(".js-map-info-template").remove().html()),this.$infowindowModal=o()(this.options.infowindowModalSelector)}createDependencies(){c=c||class extends google.maps.OverlayView{constructor(e){super(),this.options=o.a.extend({position:"lt"},e),this.close=this.close.bind(this),this.$inner=o()('<div class="map__info-window__content"></div>'),this.$offset=o()('<div class="map__info-window__offset"></div>').append(this.$inner),this.$anchor=o()(`<div class="map__info-window map__info-window--${this.options.position}"></div>`).append(this.$offset)}setPosition(e){this.options.position!==e&&(this.$anchor.removeClass("map__info-window--"+this.options.position).addClass("map__info-window--"+e),this.options.position=e)}addListener(e,i){if("mouseleave"===e){const e=Object(p.a)();return this.$inner.on("mouseleave."+e,i),{remove:()=>{this.$inner.off("mouseleave."+e)}}}google.maps.OverlayView.prototype.addListener.call(this,e,i)}setContent(e){this.$inner.empty().append(e).app(),this.$inner.one("click",".js-info-window-close",this.close)}open(e,i){this.marker=i,this.position=i.getPosition(),this.getMap()===e?this.draw():(this.setMap(e),setTimeout(()=>{o()(e.getDiv()).on("click.overlay",this.close.bind(this))},60)),this.stopEventPropagation()}close(){o()(this.getMap().getDiv()).off("click.overlay"),this.setMap(null)}draw(){var e=this.getProjection().fromLatLngToDivPixel(this.position);Math.abs(e.x)<4e3&&Math.abs(e.y)<4e3?this.$anchor.css({left:e.x+"px",top:e.y+"px",display:"block"}):this.$anchor.css({display:"none"})}onAdd(){this.$anchor.insertBefore(this.marker.title.$anchor),this.$anchor.addClass("is-invisible"),google.maps.OverlayView.preventMapHitsAndGesturesFrom(this.$anchor.get(0)),setTimeout(()=>{this.$anchor.transition("map-info-in")},16)}onRemove(){this.$anchor.remove()}stopEventPropagation(){var e=this.$anchor;e.css("cursor","auto"),e.on("click dblclick contextmenu",e=>{e.stopPropagation()})}},m=m||class extends google.maps.OverlayView{constructor(e,{text:i="",position:t="lt",style:s=""}){super();const n=o()(`\n                <div class="map__marker-title map__marker-title--${t} ${s?"map__marker-title--"+s:""}">\n                    <div class="map__marker-title__offset">\n                        <div class="map__marker-title__content">\n                            ${i}\n                        </div>\n                    </div>\n                </div>\n            `);this.marker=e,this.$anchor=n,this.position=e.getPosition(),n.on("click",this.triggerClick.bind(this)),this.setMap(e.getMap())}triggerClick(){new google.maps.event.trigger(this.marker,"click")}show(){this.$anchor.removeClass("is-hidden")}onAdd(){this.getPanes().floatPane.appendChild(this.$anchor.get(0))}onRemove(){this.$anchor.remove()}draw(){const e=this.$anchor,i=this.getProjection().fromLatLngToDivPixel(this.position);var t=Math.abs(i.x)<4e3&&Math.abs(i.y)<4e3?"block":"none";"block"===t&&e.css({left:i.x+"px",top:i.y+"px"}),e.css("display",t)}}}renderMap(){this.createDependencies(),super.renderMap()}createMarker(e){const i=super.createMarker(e);return e.title&&(i.title=new m(i,e.title)),e.info&&google.maps.event.addListener(i,"click",this.showMarkerInfo.bind(this,i,e)),i}showMarkerInfo(e,i){const t=o.a.extend({},o.a.fn.template.vars,{object:i});if("default"==t.object.category)return!1;if(h.a.matches("sm-down"))this.$infowindowModal.template("replace",t),this.$infowindowModal.modal("show");else{const s=this.infowindow||(this.infowindow=new c),n=this.infoTemplate(t);if(s.setPosition(i.title.position),s.setContent(n),s.open(this.googleMap,e),setTimeout(()=>{const e=o()(".map__info-window").next().find(".map__marker-title__offset");e.css("pointer-events","none"),this.$map.on("click",()=>{e.css("pointer-events","")})},100),h.a.matches("sm-down")){const e=new google.maps.LatLng(i);this.googleMap.setCenter(e)}let a=o()(this.infowindow.$inner).find(".js-map-info-close");a.on("click",()=>{o()(".map__info-window").next().find(".map__marker-title__offset").css("pointer-events",""),this.infowindow.close(),a.off("click")})}return!0}}o.a.fn.googleMapAdvanced=a()(g,{api:["center","getMarkers","getMarker","showMarkers","hideMarkers","instance"]})}},[[275,0]]]);